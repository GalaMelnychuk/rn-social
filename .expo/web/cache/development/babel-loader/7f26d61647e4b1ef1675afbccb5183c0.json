{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/galocka/rn-social/src/screens/auth/RegisterScreen.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { styles } from \"../../../Styles\";\nimport { auth } from \"../../../firebase/config\";\n\nvar RegisterScreen = function RegisterScreen(_ref) {\n  var navigate = _ref.navigation.navigate;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      displayName = _useState2[0],\n      setDisplayName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var resetInputs = function resetInputs() {\n    return setDisplayName(\"\"), setEmail(\"\"), setPassword(\"\");\n  };\n\n  var addUserInfo = function addUserInfo() {\n    var updateUser;\n    return _regeneratorRuntime.async(function addUserInfo$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(auth.currentUser.updateProfile({\n              displayName: \"Pit\",\n              photoURL: \"https://comments.ua/img/publications/850x478/UyYR8Ij5RRsx6F-_44FzcAoHTyrrQz74.jpg\"\n            }));\n\n          case 2:\n            updateUser = _context.sent;\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var registerUser = function registerUser() {\n    var user;\n    return _regeneratorRuntime.async(function registerUser$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(auth.createUserWithEmailAndPassword(email, password));\n\n          case 3:\n            user = _context2.sent;\n            resetInputs();\n            _context2.next = 7;\n            return _regeneratorRuntime.awrap(user.user.updateProfile({\n              displayName: \"\" + displayName\n            }));\n\n          case 7:\n            _context2.next = 12;\n            break;\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 9]], Promise);\n  };\n\n  return React.createElement(KeyboardAvoidingView, {\n    behavior: Platform.Os == \"ios\" ? \"padding\" : \"height\",\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"UserName*\"), React.createElement(TextInput, {\n    autoCapitalize: \"none\",\n    autoCorrect: false,\n    style: styles.input,\n    onChangeText: function onChangeText(value) {\n      return setDisplayName(value);\n    },\n    value: displayName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: styles.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"Email*\"), React.createElement(TextInput, {\n    autoCapitalize: \"none\",\n    autoCorrect: false,\n    style: styles.input,\n    onChangeText: function onChangeText(value) {\n      return setEmail(value);\n    },\n    value: email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: styles.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, \"Password*\"), React.createElement(TextInput, {\n    autoCapitalize: \"none\",\n    autoCorrect: false,\n    style: styles.input,\n    secureTextEntry: true,\n    onChangeText: function onChangeText(value) {\n      return setPassword(value);\n    },\n    value: password,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: registerUser,\n    activeOpacity: 0.5,\n    style: styles.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, \"REGISTER\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigate(\"LogIn\");\n    },\n    activeOpacity: 0.5,\n    style: styles.button,\n    style: styles.buttonTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, \"LogIn\"))));\n};\n\nexport default RegisterScreen;","map":{"version":3,"sources":["/Users/galocka/rn-social/src/screens/auth/RegisterScreen.js"],"names":["React","useState","useEffect","styles","auth","RegisterScreen","navigate","navigation","displayName","setDisplayName","email","setEmail","password","setPassword","resetInputs","addUserInfo","currentUser","updateProfile","photoURL","updateUser","registerUser","createUserWithEmailAndPassword","user","console","log","Platform","Os","container","text","input","value","button","buttonTitle"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Alert,\n  Button,\n  TouchableOpacity,\n  KeyboardAvoidingView,\n  Keyboard,\n  Text,\n  View,\n  TextInput,\n  Platform\n} from \"react-native\";\nimport { styles } from \"../../../Styles\";\nimport { auth } from \"../../../firebase/config\";\n\nconst RegisterScreen = ({ navigation: { navigate } }) => {\n  const [displayName, setDisplayName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const resetInputs = () => (setDisplayName(\"\"), setEmail(\"\"), setPassword(\"\"));\n\n\n  // обновление инф о пользователе\n\n  const addUserInfo = async () => {\n    const updateUser = await auth.currentUser.updateProfile({\n      displayName: \"Pit\",\n      photoURL: \"https://comments.ua/img/publications/850x478/UyYR8Ij5RRsx6F-_44FzcAoHTyrrQz74.jpg\"\n    })\n// console.log('updateUser', updateUser)\n}\n\n// регистрация юзера\n  const registerUser = async () => {\n    try {\n      const user = await auth.createUserWithEmailAndPassword(email, password);\n      resetInputs();\n      await user.user.updateProfile({\n        displayName: `${displayName}`\n      })\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n\n  return (\n    <KeyboardAvoidingView\n      behavior={Platform.Os == \"ios\" ? \"padding\" : \"height\"}\n      style={styles.container}\n    >\n      <View>\n        <Text style={styles.text}>UserName*</Text>\n        <TextInput\n          autoCapitalize={\"none\"}\n          autoCorrect={false}\n          style={styles.input}\n          onChangeText={value => setDisplayName(value)}\n          value={displayName}\n        />\n        <Text style={styles.text}>Email*</Text>\n        <TextInput\n          autoCapitalize={\"none\"}\n          autoCorrect={false}\n          style={styles.input}\n          onChangeText={value => setEmail(value)}\n          value={email}\n        />\n        <Text style={styles.text}>Password*</Text>\n        <TextInput\n          autoCapitalize={\"none\"}\n          autoCorrect={false}\n          style={styles.input}\n          secureTextEntry={true}\n          onChangeText={value => setPassword(value)}\n          value={password}\n        />\n{/* !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! */}\n        <TouchableOpacity\n          onPress={registerUser}\n          activeOpacity={0.5}\n          style={styles.button}\n        >\n          <Text style={styles.buttonTitle}>REGISTER</Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          onPress={() => navigate(\"LogIn\")}\n          activeOpacity={0.5}\n          style={styles.button}\n          style={styles.buttonTitle}\n        >\n          <Text style={styles.buttonTitle}>LogIn</Text>\n        </TouchableOpacity>\n      </View>\n    </KeyboardAvoidingView>\n  );\n};\n\nexport default RegisterScreen;\n"]},"metadata":{},"sourceType":"module"}